<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://manuelavolpe.github.io/local-PTHA-docs/instructions/json_input/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>The JSON input file - Local PTHA documentation</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../stylesheets/extra.css" rel="stylesheet" />
        <link href="https://unpkg.com/katex@0/dist/katex.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "The JSON input file";
        var mkdocs_page_input_path = "instructions/json_input.md";
        var mkdocs_page_url = "/local-PTHA-docs/instructions/json_input/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../images/logoGTM.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Background</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../background/l-ptha/">Local-scale PTHA</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../background/neamthm18/">The regional hazard model NEAMTHM18</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../background/thysea/">The Tsunami-HySEA code</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Instructions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../how-to-download/">How to download</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">The JSON input file</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../requirements/">Requirements</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../telescopic_grids/">How to build telescopic nested grids</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../usage/">Usage</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Other</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../other/disaggregation/">The disaggregation procedure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../other/sampling/">The importance sampling procedure</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Spack</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../spack/env_spack/">How to use Spack</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../spack/leonardo/">Instructions for Leonardo</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../spack/mercalli/">Instructions for Mercalli</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../spack/useful_commands/">Useful Spack commands</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Steps</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/overview/">General overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step1/">STEP 1: POI(s) selection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step2/">STEP 2: Scenario dumping</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step3/">STEP 3: Scenario selection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step4/">STEP 4: Scenario rates</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step5/">STEP 5: Tsunami simulations</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step6/">STEP 6: Hazard aggregation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../steps/step7/">STEP 7: Hazard visualization</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Local PTHA documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Instructions</li>
      <li class="breadcrumb-item active">The JSON input file</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/manuelavolpe/local-PTHA-docs/edit/master/docs/instructions/json_input.md">Edit on manuelavolpe/local-PTHA-docs</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="the-json-input-file"><strong>The JSON input file</strong></h1>
<p>JSON (JavaScript Object Notation) is an open standard file format that uses human-readable text. The data are written in key/value pairs, separated by a colon(:). Different key/value pairs are separated by a comma(,).</p>
<p>A template of the <code>workflow_input.json</code> is provided, where all the required keys are already defined and grouped as objects, i.e. collections of key/value pairs surrounded by a curly brace. Comments are disseminated all along the file for the sake of clarity, and featured by the key "_comment".</p>
<p>Before running the workflow, the JSON input file should be appropriately filled, although some sections may be neglected, depending on which steps will be executed. In other words, not all the sections in the JSON file need to be filled from the beginning if the corresponding step is not expected to be executed, as each step can be turned on/off by setting <code>True/False</code> within the input file. On the other hand, each step needs the output of the previous steps.</p>
<p>As explained in the <a href=../installation target="_blank">installation instructions</a>, the template must be copied and renamed. All the fields will now be described.</p>
<div class="admonition note">
<p>SETTINGS</p>
</div>
<p>This first section is mandatory from the very beginning. The (complete) paths for the working folder and the folders where the workflow and the topo-bathymetric grids are located must be defined. In addition, the script (with path) to activate the software environment must also be declared here, to run the steps on the computational nodes of the HPC cluster.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="nt">&quot;work_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/work/user/ptha/test&quot;</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="nt">&quot;workflow_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/home/user/cheese-ptha-master&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="nt">&quot;bathy_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/work/user/ptha/bathy&quot;</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nt">&quot;env_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/work/user/ptha/load_env.source&quot;</span><span class="w"> </span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>STEPS</p>
</div>
<p>Each workflow step can be turned on/off by setting them as <code>True/False</code>, depending on whether they must be executed. It is worth noting that the output of each step is generally an input for the next one (except for <a href=../../workflow_steps/step4 target="_blank">STEP 4</a>, whose output is required by <a href=../../workflow_steps/step6 target="_blank">STEP 6</a>, while <a href=../../workflow_steps/step5 target="_blank">STEP 5</a> needs <a href=../../workflow_steps/step3 target="_blank">STEP 3</a>). For example, only <a href=../../workflow_steps/step2 target="_blank">STEP 2</a> would be executed with the following setup, provided that <a href=../../workflow_steps/step1 target="_blank">STEP 1</a> has been previously done. </p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nt">&quot;step1&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="nt">&quot;step2&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">True</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="nt">&quot;step3&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nt">&quot;step4&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="nt">&quot;step5&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="nt">&quot;step6&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="nt">&quot;step7&quot;</span><span class="p">:</span><span class="w">    </span><span class="err">False</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>POI_SELECTION</p>
</div>
<p>Given the target site, the closest Points of Interest (POIs) are selected from the regional hazard model <a href=../../background/neamthm18 target="_blank">NEAMTHM18</a> in <a href=../../workflow_steps/step1 target="_blank">STEP 1</a>, and then used in the analysis. First of all, the geographic area of the target site must be declared, choosing among Mediterranean Sea ("med"), North-East Atlantic Ocean ("nea"), or Black Sea ("black"). It is worth noting that the workflow is automatized only for target sites overlooking the Mediterranean Sea, while some manual operations are required when dealing with the other regions. Then, in the Mediterranean Sea three different strategies are possible to select the POI(s), prioritized as follows: 1. if the high-resolution grid for the target site is available (and stored in the declared folder <code>bathy_dir</code>) its domain can be used to draw a rectangular region containing the coastline of interest, and the POIs included in that region are selected; 2. if the coordinates of the target site are given, they are used to build the rectangle and search for the POIs within it; 3. if none of the previous options are provided, the label(s) of the POI(s) from <a href=../../background/neamthm18 target="_blank">NEAMTHM18</a> must be directly indicated, as in the following example:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;med&quot;</span><span class="p">,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nt">&quot;grdfile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="nt">&quot;lonlat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nt">&quot;poinames&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;med07706,med07712&quot;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<p>The last option is mandatory outside the Mediterranean Sea.</p>
<div class="admonition note">
<p>REGIONAL MODEL</p>
</div>
<p>The default regional model is <a href=../../background/neamthm18 target="_blank">NEAMTHM18</a>, and the related files are expected to be stored in a folder named "TSUMAPS1.x" depending on the version. Version 1.0 must be used for managing sites outside the Mediterranean Sea, while for the Mediterranean area an updated vesion 1.1 is available. The path in the example is referred to the cluster mercalli @INGV.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="p">{</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nt">&quot;folderMain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/scratch/projects/cat/SPTHA/&quot;</span><span class="p">,</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nt">&quot;project_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TSUMAPS1.1&quot;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>DISAGGREGATION</p>
</div>
<p>When a <a href=../../workflow_steps/disaggregation target="_blank"> disaggregation </a> procedure is required to select relevant scenarios for the target site, some parameters must be defined such as: the choice between a disaggregation on MIH (Maximum Inundation Height) intervals (i) or thresholds (t); in case of intervals, the MIH interval(s), expressed in m, where the disaggregation must be executed (it can be a single interval, e.g. 1-4, or a sequence of intervals, e.g. 1-4,4-8); in case of thresholds, the MIH value(s), expressed in m, where the disaggregation must be executed (it can be one or more values separated by comma, e.g. 1,4); the desired percentage of hazard reproduction for each interval/threshold. For example, the following settings will select the scenarios by disaggregating the hazard to account for 90% of the total at 1 m and 4 m:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nt">&quot;disaggregation&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;t&quot;</span><span class="p">,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nt">&quot;mih_int&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nt">&quot;mih_val&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1,4&quot;</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nt">&quot;threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;90&quot;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>SAMPLING</p>
</div>
<p>An alternative/complementary method for scenario selection is the <a href="../../workflow_steps/ampling" target="_blank"> importance sampling </a>.</p>
<details class="warning" open="open">
<summary>Warning</summary>
<p>The  <a href=../../workflow_steps/sampling target="_blank"> importance sampling </a> has not been implemented yet, so it must be set as False</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>{
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>&quot;sampling&quot;: False
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>}
</span></code></pre></div>
</details>
<div class="admonition note">
<p>SIMULATION SETUP</p>
</div>
<p>Some parameters for the  <a href=../../workflow_steps/step5 target="_blank">tsunami simulations</a> must be defined, such as: the number of levels of nested grids; an array defining the refinement ratio of the nesting from the coarsest to the finest grid (it is worth noting that with the simulation code <a href=../../background/Tsunami-HySEA target="_blank">Tsunami-HySEA</a>, a refinement ratio equal to a power of 2 is mandatory); the simulation length expressed in hours. For example, if the simulations are carried out for 4 hours on a grid setup made of an outer grid spanning a regional domain at a resolution of 320 m, and 4 local-scale telescopic grids with increasing resolution equal to 160, 80, 20, and 5 m respectively, this section would be:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nt">&quot;nlevels&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nt">&quot;ref_ratio&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nt">&quot;propagation&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>HAZARD</p>
</div>
<p>The <a href=../../workflow_steps/step6 target="_blank"> hazard aggregation </a> is implemented both in Python and MATLAB, and the user can choose the preferred language, also depending on the software installed on the cluster where the workflow is running. Moreover, this step is parallelized on the domain, through a horizontal decomposition of the highest resolution grid in "slices", which are then processed in parallel. The number of slices (i.e. the number of parallel processes) is computed at runtime, but the maximum allowed number must be declared here, as a trade-off between parallelism and manageability. In addition, the desired forecast time window has to be set, i.e the time period for which the probability of exceedance must be computed (a typical value is 50 years). Finally, a logical variable allows to possibly write the hazard curves as a CSV table. For example:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nt">&quot;haz_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nt">&quot;nmaxslices&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;20&quot;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nt">&quot;forecast_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;50&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="nt">&quot;write_csv&quot;</span><span class="p">:</span><span class="w"> </span><span class="err">True</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>MAPS</p>
</div>
<p>The last step of the workflow is the <a href=../../workflow_steps/step6 target="_blank">visualization</a>, namely the production of hazard maps. The required parameter is the average return period(s) expressed in years (it can be one or more values separated by comma). For example:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nt">&quot;return_period&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2500,25000,250000,1000000&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="p">}</span>
</span></code></pre></div>
</div>
<div class="admonition note">
<p>HPC</p>
</div>
<p>This section refers to the HPC cluster. In the present version, the entire execution of the workflow is performed on the same cluster, which is retrieved at runtime by a specific Python functionality. As a consequence, there is no need to fill out this section, unless the workflow is running on Leonardo @CINECA: in this case, the last 3 keys must be completed to be authorized to run by the job scheduler:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot; &quot;</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nt">&quot;leonardo_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test_account&quot;</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="nt">&quot;leonardo_partition&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boost_usr_prod&quot;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="nt">&quot;leonardo_quality&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span>
</span></code></pre></div>
</div>
<details class="warning" open="open">
<summary>Warning</summary>
<p>Future versions will possibly allow to execute the workflow on a local cluster and then connect to a remote cluster for running the tsunami simulation, provided that values corresponding to the keys "cluster" and "username" are provided.</p>
</details>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../installation/" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../requirements/" class="btn btn-neutral float-right" title="Requirements">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/manuelavolpe/local-PTHA-docs" class="fa fa-code-fork" style="color: #fcfcfc"> manuelavolpe/local-PTHA-docs</a>
        </span>
    
    
      <span><a href="../installation/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../requirements/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../javascripts/mathjax.js"></script>
      <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../javascripts/katex.js"></script>
      <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
